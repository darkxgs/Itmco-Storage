# ุฏููู ุงููุดุฑ ูู ุงูุฅูุชุงุฌ - Production Deployment Guide

## ๐ **ุฅุนุฏุงุฏ ุงููุดุฑ ูู ุงูุฅูุชุงุฌ**

### 1. **ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช**

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช
```sql
-- ุดุบู ูุฐู ุงูุณูุฑูุจุชุงุช ุจุงูุชุฑุชูุจ ูู Supabase SQL Editor:

-- 1. ุฅูุดุงุก ุงูุฌุฏุงูู ุงูุฃุณุงุณูุฉ
-- ุดุบู: scripts/init-database-simple.sql

-- 2. ุฅุถุงูุฉ ุฌุฏุงูู ุงูุฃูุงู ูุงููุณุฎ ุงูุงุญุชูุงุทู
-- ุดุบู: scripts/add-security-table.sql

-- 3. ุฅุถุงูุฉ ุงูุจูุงูุงุช ุงูุฃูููุฉ
-- ุดุบู: scripts/seed-database-production.sql
```

#### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏ
```sql
-- ุชุญูู ูู ูุฌูุฏ ุฌููุน ุงูุฌุฏุงูู
SELECT table_name FROM information_schema.tables 
WHERE table_schema = 'public' 
ORDER BY table_name;

-- ูุฌุจ ุฃู ุชุฑู:
-- - users
-- - products  
-- - issuances
-- - activity_logs
-- - security_logs
-- - backup_config
-- - backup_history
```

### 2. **ูุชุบูุฑุงุช ุงูุจูุฆุฉ**

#### ูู Vercel:
```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
CRON_SECRET=your_secure_random_string_for_cron_jobs
```

#### ุฅูุดุงุก CRON_SECRET ุขูู:
```bash
# ุงุณุชุฎุฏู ุฃุฏุงุฉ ูุฅูุดุงุก ููุชุงุญ ุนุดูุงุฆู ุขูู
openssl rand -base64 32
```

### 3. **ุฅุนุฏุงุฏ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู**

#### ูู Vercel Cron Jobs:
1. ุงุฐูุจ ุฅูู ูุดุฑูุนู ูู Vercel
2. ุงุฐูุจ ุฅูู Settings โ Functions
3. ุฃุถู Cron Job ุฌุฏูุฏ:
   ```
   Path: /api/cron/backup?secret=YOUR_CRON_SECRET
   Schedule: 0 2 * * * (ูู ููู ูู ุงูุณุงุนุฉ 2 ุตุจุงุญุงู)
   ```

#### ุฃู ุงุณุชุฎุฏู ุฎุฏูุฉ ุฎุงุฑุฌูุฉ:
```bash
# ูุซุงู ุจุงุณุชุฎุฏุงู cron-job.org ุฃู similar service
curl "https://your-app.vercel.app/api/cron/backup?secret=YOUR_CRON_SECRET"
```

### 4. **ุฅุนุฏุงุฏุงุช ุงูุฃูุงู**

#### ุชูุนูู HTTPS ููุท:
- ุชุฃูุฏ ูู ุฃู ุงูุชุทุจูู ูุนูู ุนูู HTTPS ููุท
- Vercel ูููุฑ HTTPS ุชููุงุฆูุงู

#### ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ูู next.config.mjs:
```javascript
const nextConfig = {
  // Security headers
  async headers() {
    return [
      {
        source: '/(.*)',
        headers: [
          {
            key: 'X-Frame-Options',
            value: 'DENY',
          },
          {
            key: 'X-Content-Type-Options',
            value: 'nosniff',
          },
          {
            key: 'Referrer-Policy',
            value: 'origin-when-cross-origin',
          },
          {
            key: 'X-XSS-Protection',
            value: '1; mode=block',
          },
        ],
      },
    ]
  },
}
```

### 5. **ูุฑุงูุจุฉ ุงููุธุงู**

#### ุชุญูู ูู ุณุฌูุงุช ุงูุฃูุงู:
```sql
-- ุนุฑุถ ุขุฎุฑ ุงูุฃุญุฏุงุซ ุงูุฃูููุฉ
SELECT * FROM security_logs 
ORDER BY timestamp DESC 
LIMIT 50;

-- ุนุฑุถ ุงููุญุงููุงุช ุงููุดุจููุฉ
SELECT * FROM security_logs 
WHERE severity IN ('HIGH', 'CRITICAL')
ORDER BY timestamp DESC;
```

#### ุชุญูู ูู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:
```sql
-- ุนุฑุถ ุชุงุฑูุฎ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
SELECT * FROM backup_history 
ORDER BY timestamp DESC 
LIMIT 10;

-- ุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู
SELECT * FROM backup_config;
```

### 6. **ุงุฎุชุจุงุฑ ุงููุธุงู**

#### ุงุฎุชุจุงุฑ ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ:
1. **ุชุณุฌูู ุงูุฏุฎูู**: ุฌุฑุจ ุฌููุน ุฃููุงุน ุงููุณุชุฎุฏููู
2. **ุฅุฏุงุฑุฉ ุงููุฎุฒูู**: ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู ุงูููุชุฌุงุช
3. **ุงูุฅุตุฏุงุฑุงุช**: ุฅูุดุงุก/ุชุนุฏูู/ุญุฐู ุงูุฅุตุฏุงุฑุงุช
4. **ุงููุณุฎ ุงูุงุญุชูุงุทู**: ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฏููุฉ
5. **ุงูุชูุงุฑูุฑ**: ุนุฑุถ ุฌููุน ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช

#### ุงุฎุชุจุงุฑ ุงูุฃูุงู:
```bash
# ุงุฎุชุจุงุฑ ุญุฏ ุงููุนุฏู (Rate Limiting)
for i in {1..150}; do curl -X POST https://your-app.vercel.app/api/backup; done

# ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ "Rate limit exceeded" ุจุนุฏ 100 ุทูุจ
```

### 7. **ุงูุตูุงูุฉ ุงูุฏูุฑูุฉ**

#### ุฃุณุจูุนูุงู:
- ุชุญูู ูู ุณุฌูุงุช ุงูุฃูุงู
- ูุฑุงุฌุนุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- ุชุญูู ูู ุฃุฏุงุก ุงููุธุงู

#### ุดูุฑูุงู:
- ุชูุธูู ุณุฌูุงุช ุงูุฃูุงู ุงููุฏููุฉ
- ูุฑุงุฌุนุฉ ุงููุณุชุฎุฏููู ุงููุดุทูู
- ุชุญุฏูุซ ูููุงุช ุงููุฑูุฑ ุฅุฐุง ูุฒู ุงูุฃูุฑ

#### ุณูููุงู:
- ูุฑุงุฌุนุฉ ุดุงููุฉ ููุฃูุงู
- ุชุญุฏูุซ ุงูุชุจุนูุงุช (Dependencies)
- ุงุฎุชุจุงุฑ ุงุณุชุนุงุฏุฉ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

## ๐ **ูุงุฆูุฉ ุงูุชุญูู ูู ุงูุฃูุงู**

### โ **ูุจู ุงููุดุฑ**
- [ ] ุชู ุชุดุบูู ุฌููุน ุณูุฑูุจุชุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุชู ุชุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุจุดูู ุตุญูุญ
- [ ] ุชู ุฅูุดุงุก CRON_SECRET ุขูู
- [ ] ุชู ุงุฎุชุจุงุฑ ุฌููุน ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ
- [ ] ุชู ุชูุนูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู

### โ **ุจุนุฏ ุงููุดุฑ**
- [ ] ุชู ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู ูุฌููุน ุงูุฃุฏูุงุฑ
- [ ] ุชู ุงุฎุชุจุงุฑ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุฏูู
- [ ] ุชู ุงูุชุญูู ูู ุนูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู
- [ ] ุชู ูุฑุงุฌุนุฉ ุณุฌูุงุช ุงูุฃูุงู
- [ ] ุชู ุงุฎุชุจุงุฑ ุญุฏ ุงููุนุฏู (Rate Limiting)

## ๐จ **ูู ุญุงูุฉ ุงูุทูุงุฑุฆ**

### ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ:
1. ุงุฐูุจ ุฅูู `/backup` ูู ุงูุชุทุจูู
2. ุงุฎุชุฑ ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
3. ุงุถุบุท "ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ"
4. ุงูุชุธุฑ ุญุชู ุงูุชูุงู ุงูุนูููุฉ

### ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ูุฑูุฑ ุงููุฏูุฑ:
```sql
-- ูู Supabase SQL Editor
UPDATE users 
SET password_hash = '$2b$10$UQWLCOX4ITXd.ekx3YXW/ukQy8mU.CuRwJuTRF8PQj6Wk0mh1NYfW'
WHERE email = 'itmcoadmin@gmail.com';

-- ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ: itmcoadmin@12
```

### ุชูุธูู ุณุฌูุงุช ุงูุฃูุงู:
```sql
-- ุญุฐู ุงูุณุฌูุงุช ุงูุฃูุฏู ูู 90 ููู
DELETE FROM security_logs 
WHERE timestamp < NOW() - INTERVAL '90 days';
```

## ๐ **ุงูุฏุนู ุงูููู**

ูู ุญุงูุฉ ูุฌูุฏ ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช Vercel
2. ุฑุงุฌุน ุณุฌูุงุช ุงูุฃูุงู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุฃูุฏ ูู ุนูู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู
4. ุงุชุตู ุจูุฑูู ุงูุฏุนู ุงูููู

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก**: 8 ุฃุบุณุทุณ 2025  
**ุงูุฅุตุฏุงุฑ**: 2.0 Production Ready  
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุฅูุชุงุฌ